<docs>
  <members name="SqlException">
    <SqlException>
      <summary>
        The exception that is thrown when SQL Server returns a warning or error. This class cannot be inherited.
      </summary>
      <remarks>
        <para>
          This class is created whenever the .NET Framework Data Provider for SQL Server encounters an error generated from the server. (Client side errors are thrown as standard common language runtime exceptions.) <see cref="T:Microsoft.Data.SqlClient.SqlException" /> always contains at least one instance of <see cref="T:Microsoft.Data.SqlClient.SqlError" />.
        </para>
        <para>
          Messages that have a severity level of 10 or less are informational and indicate problems caused by mistakes in information that a user has entered. Severity levels from 11 through 16 are generated by the user, and can be corrected by the user. Severity levels from 17 through 25 indicate software or hardware errors. When a level 17, 18, or 19 error occurs, you can continue working, although you might not be able to execute a particular statement.
        </para>
        <para>
          The <see cref="T:Microsoft.Data.SqlClient.SqlConnection" /> remains open when the severity level is 19 or less. When the severity level is 20 or greater, the server ordinarily closes the <see cref="T:Microsoft.Data.SqlClient.SqlConnection" />. However, the user can reopen the connection and continue. In both cases, a <see cref="T:Microsoft.Data.SqlClient.SqlException" /> is generated by the method executing the command.
        </para>
        <para>
          For information about the warning and informational messages sent by SQL Server, see <see href="/sql/relational-databases/errors-events/database-engine-events-and-errors">Database Engine Events and Errors</see>. The <see cref="T:Microsoft.Data.SqlClient.SqlException" /> class maps to SQL Server severity.
        </para>
        <para>
          The following is general information on handling exceptions. Your code should catch exceptions to prevent the application from crashing and to allow displaying a relevant error message to the user.  You can use database transactions to ensure that the data is consistent regardless of what happens in the client application (including a crash). Features like <see cref="T:System.Transactions.TransactionScope" /> or the <see cref="M:Microsoft.Data.SqlClient.SqlConnection.BeginTransaction" /> ensure consistent data regardless of exceptions raised by a provider. Transactions can fail, so catch failures and retry the transaction.
        </para>
        <para>
          Note that beginning with .NET Framework 4.5, <see cref="T:Microsoft.Data.SqlClient.SqlException" /> can return an inner <see cref="T:System.ComponentModel.Win32Exception" />.
        </para>
        <para>
          The exception class of a .NET Framework data provider reports provider-specific errors. For example System.Data.Odbc has <see cref="T:System.Data.Odbc.OdbcException" />, System.Data.OleDb has <see cref="T:System.Data.OleDb.OleDbException" />, and Microsoft.Data.SqlClient has <b>SqlException</b>. For the best level of error detail, catch these exceptions and use the members of these exception classes to get details of the error.
        </para>
        <para>
          Bad input can cause a .NET Framework data provider type to raise an exception such as System.ArgumentException or System.IndexOutOfRangeException. Calling a method at the wrong time can raise System.InvalidOperationException.
        </para>
        <para>
          So, in general, write an exception handler that catches any provider specific exceptions as well as exceptions from the common language runtime. These can be layered as follows:
        </para>
        <code language="c#">
          try
'         {
              // code here
          }
          catch (SqlException sqlEx)
          {
              // Handle more specific SqlException exception here.
          }
          catch (Exception ex)
          {
              // Handle generic ones here.
          }
        </code>
        <para>Or:</para>
        <code language="c#">
          try
          {
              // code here
          }
          catch (Exception ex)
          {
              if (ex is SqlException)
              {
                  // Handle more specific SqlException exception here.
              }
              else
              {
                  // Handle generic ones here.
              }
          }
        </code>
        <para>
          It is also possible for a .NET Framework data provider method call to fail on a thread pool thread with no user code on the stack. In this case, and when using asynchronous method calls, you must register the <see cref="T:System.AppDomain.UnhandledException" /> event to handle those exceptions and avoid application crash.
        </para>
      </remarks>
      <example>
        <para>
          The following example generates a <see cref="T:Microsoft.Data.SqlClient.SqlException" /> and then displays the exception.
        </para>
        <!-- SqlException_Errors1 -->
        <code language="c#">
          using System;
          using System.Data;
          using System.Text;
          using Microsoft.Data.SqlClient;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="T:Microsoft.Data.SqlClient.SqlError" />
      <seealso cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" />
    </SqlException>
    <Class>
      <summary>
        Gets the severity level of the error returned from the .NET Framework Data Provider for SQL Server.
      </summary>
      <value>
        A value from 1 to 25 that indicates the severity level of the error.
      </value>
      <remarks>
        <para>
          Messages that have a severity level of 10 or less are informational and indicate problems caused by mistakes in information that a user has entered. Severity levels from 11 through 16 are generated by the user, and can be corrected by the user. Severity levels from 17 through 25 indicate software or hardware errors. When a level 17, 18, or 19 error occurs, you can continue working, although you might not be able to execute a particular statement.
        </para>
        <para>
          The <see cref="T:Microsoft.Data.SqlClient.SqlConnection" /> remains open when the severity level is 19 or less. When the severity level is 20 or greater, the server ordinarily closes the <see cref="T:Microsoft.Data.SqlClient.SqlConnection" />. However, the user can reopen the connection and continue. In both cases, a <see cref="T:Microsoft.Data.SqlClient.SqlException" /> is generated by the method executing the command.
        </para>
        <para>
          For information about the warning and informational messages sent by SQL Server, see the Troubleshooting section of the SQL Server documentation.
        </para>
        <para>
          This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.Class" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
        </para>
        <para>
          If <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> is <see langword="null" />, the <see href="https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/default-values"><c>default</c></see> value for <c>byte</c> is returned.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using System.Text;
          using Microsoft.Data.SqlClient;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistantStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Source" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </Class>
    <ClientConnectionId>
      <summary>
        Represents the client connection ID. For more information, see <see href="https://docs.microsoft.com/sql/connect/ado-net/data-tracing">Data Tracing in ADO.NET</see>.
      </summary>
      <value>
        The client connection ID.
      </value>
      <remarks>
        For a code sample, see <see cref="M:Microsoft.Data.SqlClient.SqlException.ToString" />.
      </remarks>
    </ClientConnectionId>
    <Errors>
      <summary>
        Gets a collection of one or more <see cref="T:Microsoft.Data.SqlClient.SqlError" /> objects that give detailed information about exceptions generated by the .NET Framework Data Provider for SQL Server.
      </summary>
      <value>
        The collected instances of the <see cref="T:Microsoft.Data.SqlClient.SqlError" /> class.
      </value>
      <remarks>
        <para>
          The <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> class always contains at least one instance of the <see cref="T:Microsoft.Data.SqlClient.SqlError" /> class.
        </para>
        <para>
          This is a wrapper for <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" />. For more information on SQL Server engine errors, see <see href="/sql/relational-databases/errors-events/database-engine-events-and-errors">Database Engine Events and Errors</see>.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlError_ToString -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          DisplaySqlErrors(ex);
                      }
                  }
              }

              private static void DisplaySqlErrors(SqlException exception)
              {
                  for (int i = 0; i &lt; exception.Errors.Count; i++)
                  {
                      Console.WriteLine("Index #" + i + "\n" +
                          "Error: " + exception.Errors[i].ToString() + "\n");
                  }
                  Console.ReadLine();
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" />
      <seealso cref="T:Microsoft.Data.SqlClient.SqlError" />
    </Errors>
    <GetObjectData>
      <summary>To be added</summary>
    </GetObjectData>
    <LineNumber>
      <summary>
        Gets the line number within the Transact-SQL command batch or stored procedure that generated the error.
      </summary>
      <value>
        The line number within the Transact-SQL command batch or stored procedure that generated the error.
      </value>
      <remarks>
        <para>
          The line numbering starts at 1; if 0 is returned, the line number is not applicable.
        </para>
        <para>
          This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.LineNumber" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
        </para>
        <para>
          If <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> is <see langword="null" />, the <see href="https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/default-values"><c>default</c></see> value for <c>int</c> is returned.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Source" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
    </LineNumber>
    <Message>
      <summary>
        Gets the text describing the error.
      </summary>
      <value>
        The text describing the error.
      </value>
    </Message>
    <Number>
      <summary>
        Gets a number that identifies the type of error.
      </summary>
      <value>
        The number that identifies the type of error.
      </value>
      <remarks>
        <para>
          This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.Number" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
        </para>
        <para>
          If <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> is <see langword="null" />, the <see href="https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/default-values"><c>default</c></see> value for <c>int</c> is returned.
        </para>
        <para>
          For more information on SQL Server engine errors, see <see href="/sql/relational-databases/errors-events/database-engine-events-and-errors">Database Engine Events and Errors</see>.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Source" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </Number>
    <Procedure>
      <summary>
        Gets the name of the stored procedure or remote procedure call (RPC) that generated the error.
      </summary>
      <value>
        The name of the stored procedure or RPC.
      </value>
      <remarks>
        <para>
          This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.Procedure" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
        </para>
        <para>
          If <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> is <see langword="null" />, the <see href="https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/default-values"><c>default</c></see> value for <c>string</c> is returned.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Source" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </Procedure>
    <Server>
      <summary>
        Gets the name of the computer that is running an instance of SQL Server that generated the error.
      </summary>
      <value>
        The name of the computer running an instance of SQL Server.
      </value>
      <remarks>
        <para>
          This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.Server" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
        </para>
        <para>
          If <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> is <see langword="null" />, the <see href="https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/default-values"><c>default</c></see> value for <c>string</c> is returned.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Source" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </Server>
    <Source>
      <summary>
        Gets the name of the provider that generated the error.
      </summary>
      <value>
        The name of the provider that generated the error.
      </value>
      <remarks>
        This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.Source" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </Source>
    <BatchCommand>
      <summary>
        Gets the <see cref="T:System.Data.Common.DbBatchCommand" /> instance that generated the error or <see langword="null" /> if the exception was not raised from a batch.
      </summary>
      <value>
        A <see cref="T:System.Data.Common.DbBatchCommand" /> object or <see langword="null" />
      </value>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.State" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </BatchCommand>
    <DbBatchCommand>
      <summary>
        If this <see cref="T:Microsoft.Data.SqlClient.SqlException" /> was thrown when executing a <see cref="T:Microsoft.Data.SqlClient.SqlBatch" />, references the specific <see cref="T:Microsoft.Data.SqlClient.SqlBatchCommand" /> which triggered the exception.
      </summary>
      <value>
        The specific <see cref="T:Microsoft.Data.SqlClient.SqlBatchCommand" /> which triggered the exception.
      </value>
      <remarks>
        If this <see cref="T:Microsoft.Data.SqlClient.SqlException" /> wasn't thrown when executing a <see cref="T:Microsoft.Data.SqlClient.SqlBatch" />, the value is <see langword="null" />.
      </remarks>
    </DbBatchCommand>
    <State>
      <summary>
        Gets a numeric error code from SQL Server that represents an error, warning or "no data found" message. For more information about how to decode these values, see <see href="/sql/relational-databases/errors-events/database-engine-events-and-errors">Database Engine Events and Errors</see>.
      </summary>
      <value>
        The number representing the error code.
      </value>
      <remarks>
        <para>
          This is a wrapper for the <see cref="P:Microsoft.Data.SqlClient.SqlError.State" /> property of the first <see cref="T:Microsoft.Data.SqlClient.SqlError" /> in the <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> property.
        </para>
        <para>
          If <see cref="P:Microsoft.Data.SqlClient.SqlException.Errors" /> is <see langword="null" />, the <see href="https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/default-values"><c>default</c></see> value for <c>byte</c> is returned.
        </para>
      </remarks>
      <example>
        <para>
          The following example displays each <see cref="T:Microsoft.Data.SqlClient.SqlError" /> within the <see cref="T:Microsoft.Data.SqlClient.SqlErrorCollection" /> collection.
        </para>
        <!-- SqlException_Errors2 -->
        <code language="c#">
          using System;
          using System.Data;
          using Microsoft.Data.SqlClient;
          using System.Text;

          class Program
          {
              static void Main()
              {
                  string s = GetConnectionString();
                  ShowSqlException(s);
                  Console.ReadLine();
              }

              public static void ShowSqlException(string connectionString)
              {
                  string queryString = "EXECUTE NonExistentStoredProcedure";
                  StringBuilder errorMessages = new StringBuilder();

                  using (SqlConnection connection = new SqlConnection(connectionString))
                  {
                      SqlCommand command = new SqlCommand(queryString, connection);
                      try
                      {
                          command.Connection.Open();
                          command.ExecuteNonQuery();
                      }
                      catch (SqlException ex)
                      {
                          for (int i = 0; i &lt; ex.Errors.Count; i++)
                          {
                              errorMessages.Append("Index #" + i + "\n" +
                                  "Message: " + ex.Errors[i].Message + "\n" +
                                  "Error Number: " + ex.Errors[i].Number + "\n" +
                                  "LineNumber: " + ex.Errors[i].LineNumber + "\n" +
                                  "Source: " + ex.Errors[i].Source + "\n" +
                                  "Procedure: " + ex.Errors[i].Procedure + "\n");
                          }
                          Console.WriteLine(errorMessages.ToString());
                      }
                  }
              }

              static private string GetConnectionString()
              {
                  // To avoid storing the connection string in your code,
                  // you can retrieve it from a configuration file.
                  return "Data Source=(local);Initial Catalog=AdventureWorks;"
                       + "Integrated Security=SSPI";
              }
          }
        </code>
      </example>
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Class" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Number" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Source" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Server" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.Procedure" />
      <seealso cref="P:Microsoft.Data.SqlClient.SqlException.LineNumber" />
    </State>
    <ToString>
      <summary>
        Returns a string that represents the current <see cref="T:Microsoft.Data.SqlClient.SqlException" /> object, and includes the client connection ID (for more information, see <see cref="P:Microsoft.Data.SqlClient.SqlException.ClientConnectionId" />).
      </summary>
      <returns>
        A string that represents the current <see cref="T:Microsoft.Data.SqlClient.SqlException" /> object. <see cref="T:System.String" />.
      </returns>
      <example>
        <para>
          The following example shows how a connection attempt to a valid server but non-existent database causes a <see cref="T:Microsoft.Data.SqlClient.SqlException" />, which includes the client connection ID:
        </para>
        <code language="c#">
          using System;
          using Microsoft.Data.SqlClient;

          public class A
          {
              public static void Main()
              {
                  SqlConnection connection = new SqlConnection();
                  connection.ConnectionString = "Data Source=a_valid_server;Initial Catalog=Northwinda;Integrated Security=true";

                  try
                  {
                      connection.Open();
                  }
                  catch (SqlException p)
                  {
                      Console.WriteLine("{0}", p.ClientConnectionId);
                      Console.WriteLine("{0}", p.ToString());
                  }

                  connection.Close();
              }
          }
        </code>
        <code language="vb">
          Imports System
          Imports Microsoft.Data.SqlClient

          Module Module1
              Sub Main()
                  Dim connection As New SqlConnection()
                  connection.ConnectionString = "Data Source=a_valid_server;Initial Catalog=Northwinda;Integrated Security=true"

                  Try
                      connection.Open()
                  Catch p As SqlException
                      Console.WriteLine("{0}", p.ClientConnectionId)
                      Console.WriteLine("{0}", p.ToString())
                  End Try
              
                  connection.Close()
              End Sub
          End Module
        </code>
      </example>
    </ToString>
  </members>
</docs>
